<?xml version="1.0" encoding="UTF-8" ?>

<plugin name="BlacktiePlugin"
        displayName="Blacktie Plugin"
        version="2.0-MR1-SNAPSHOT"
        package="org.rhq.plugins.blacktie"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xmlns="urn:xmlns:rhq-plugin"
        xmlns:c="urn:xmlns:rhq-configuration">

   <server name="Blactkie Domain"
           discovery="BlacktiePluginDiscoveryComponent"
           class="DomainComponent"
           description="blacktie domain">
      <operation name="pauseDomain" displayName="pauseDomain" description="pause all servers in the domain">
			  <results>
				  <c:notes>Return message</c:notes>
				  <c:simple-property name="operationResult" type="longString"/>
			  </results>
	  </operation>
	  
	  <operation name="resumeDomain" displayName="resumeDomain" description="resume all servers in the domain">
			  <results>
				  <c:notes>Return message</c:notes>
				  <c:simple-property name="operationResult" type="longString"/>
			  </results>
	  </operation>

	  <service name="Server"
		  discovery="ServerDiscoveryComponent"
		  class="ServerComponent"
		  description="blacktie server">
		  <operation name="shutdown" displayName="shutdown" description="Shutdown instance for the specified id">
			  <parameters>
				  <c:simple-property required="false" name="id" displayName="id" description="server id"/>
			  </parameters>
			  <results>
				  <c:notes>Shutdown return message</c:notes>
				  <c:simple-property name="operationResult" type="longString"/>
			  </results>
		  </operation>

		  <operation name="listServiceStatus" displayName="listServiceStatus" description="list services status">
			  <parameters>
				  <c:simple-property required="false" name="service" displayName="service" description="service name"/>
			  </parameters>
			  <results>
				  <c:notes>Services status</c:notes>
				  <c:simple-property name="operationResult" type="longString"/>
			  </results>
		  </operation>

		  <operation name="getServiceCounter" displayName="getServiceCounter" description="get services message counter">
			  <parameters>
				  <c:simple-property required="false" name="id" displayName="id" description="server id"/>
				  <c:simple-property required="true" name="service" displayName="service" description="service"/>
			  </parameters>
			  <results>
				  <c:notes>Services status</c:notes>
				  <c:simple-property name="operationResult" type="longString"/>
			  </results>
		  </operation>

		  <operation name="advertise" displayName="advertise" description="advertise service">
			  <parameters>
				  <c:simple-property required="true" name="service" displayName="service" description="service"/>
			  </parameters>
			  <results>
				  <c:notes>Services status</c:notes>
				  <c:simple-property name="operationResult" type="longString"/>
			  </results>
		  </operation>

		  <operation name="unadvertise" displayName="unadvertise" description="unadvertise service">
			  <parameters>
				  <c:simple-property required="true" name="service" displayName="service" description="service"/>
			  </parameters>
			  <results>
				  <c:notes>Services status</c:notes>
				  <c:simple-property name="operationResult" type="longString"/>
			  </results>
		  </operation>

		  <metric property="instanceCount" measurementType="dynamic" displayType="summary" displayName="server instances"
			  defaultOn="true" defaultInterval="60000" dataType="measurement" description="The number of running instances of server"/>

	  </service>
   </server>
</plugin>
